webpackJsonp([2,7],{163:function(t,e,i){(function(t){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(32),o=a(n),s=i(31),r=i(48);i(59),e.default={name:"integral",data:function(){return{isNullLi:!0,startTouchY:0,startTouchYShop:0,items:[],isLoad:!0,loading:!0}},filters:{ctimeFun:function(t){var e=new Date(t),i=e.getYear()-100,a=e.getMonth()+1;a=a>9?a:"0"+a;var n=e.getDate();n=n>9?n:"0"+n;var o=e.getHours();o=o>9?o:"0"+o;var s=e.getMinutes();return s=s>9?s:"0"+s,"20"+i+"-"+a+"-"+n+" "+o+":"+s},imgUrlFun:function(e){return e?"http://"+t.logZSIp+":"+t.logFileport+"/files"+e:"/static/img/errimg.png"},strFun:function(t){return t?t:"0"},strStrFun:function(t){return t?t:"无"},numFun:function(t){return t.toFixed(2)}},computed:(0,s.mapState)(["regUserObj","interagsObj"]),created:function(){var t=this;if(t.isLoad=!0,sessionStorage.openedintegral){var e=localStorage.getItem("id");t.regUserObj.id=e}sessionStorage.setItem("openedintegral","true"),t.$emit("childsay","integral"),t.getIntegralList({page_no:1}).then(function(e){console.log(e),"200"==e.data.code?(t.isLoad=!1,t.items=e.data.data,e.data.data.length>0?t.isNullLi=!1:t.isNullLi=!0):t.isNullLi=!0}).catch(function(e){t.isLoad=!1,(0,r.Toast)({message:"服务器错误",className:"toastLoad"})})},beforeDestroy:function(){sessionStorage.removeItem("openedintegral")},methods:(0,o.default)({loadMore:function(){},conveListTouchstart:function(t,e){this.startTouchY=t.changedTouches[0].clientY},conveListTouchend:function(t,e){var i=this,a=t.changedTouches[0].clientY-this.startTouchY;15>a&&a>-15&&(console.log("兑换积分",e),i.getIntegralExchange({consumerId:i.regUserObj.id,productId:i.items[e].id}).then(function(t){console.log(t),"200"==t.data.code?(0,r.Toast)({message:"兑换成功",className:"toastLoad"}):"1002"==t.data.code?(0,r.Toast)({message:"积分不足，请加油吧",className:"toastLoad"}):"1003"==t.data.code?(0,r.Toast)({message:"收获地址没有填写",className:"toastLoad"}):(0,r.Toast)({message:"兑换错误",className:"toastLoad"})}).catch(function(t){console.log(t),(0,r.Toast)({message:"服务器错误",className:"toastLoad"})}))},shopListTouchstart:function(t,e){this.startTouchYShop=t.changedTouches[0].clientY},shopListTouchend:function(t,e){var i=this,a=t.changedTouches[0].clientY-this.startTouchYShop;15>a&&a>-15&&(console.log("商城详情",e),i.$router.push({path:"/integralImg"}),i.interagsObj.id=i.items[e].id,localStorage.setItem("Imgid",i.items[e].id))}},(0,s.mapActions)(["getIntegralList","getIntegralExchange"]))}}).call(e,function(){return this}())},404:function(t,e,i){e=t.exports=i(47)(),e.push([t.id,".loadIng[data-v-c2a68c1a]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:rgba(0,0,0,.2);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;z-index:1000000000;-ms-flex-pack:center;justify-content:center}#app[data-v-c2a68c1a]{background-color:#f5f5f6;overflow-x:hidden;height:100vh}.mainUl>ul>li[data-v-c2a68c1a]{height:12rem;width:100%;margin-bottom:1rem;background-color:#f5f5f6}.cont[data-v-c2a68c1a]{overflow:hidden;margin:0 auto;height:100%;width:calc(100vw - 1.5rem);background-color:#fff;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.cont>div[data-v-c2a68c1a]:first-child{margin-left:.5rem;width:10.5rem;height:10.5rem;border-radius:.2rem;overflow:hidden}.cont>div:first-child img[data-v-c2a68c1a]{width:100%;height:100%}.contRight[data-v-c2a68c1a]{height:100%;width:calc(100vw - 14.5rem)}.contRight>div[data-v-c2a68c1a]{width:100%;font-size:1.2rem}.contRight>div[data-v-c2a68c1a]:first-child{width:calc(100vw - 16.5rem);height:4rem;line-height:2rem;margin-top:.7rem;overflow:hidden;color:#303030}.contRight>div[data-v-c2a68c1a]:nth-child(2){height:2.8rem;color:#b8b8b8;line-height:2.8rem;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.contRight>div[data-v-c2a68c1a]:nth-child(3){margin-top:.8rem;border:1px solid #8dd68c;height:2.6rem;width:17rem;display:-ms-flexbox;display:flex}.contRight>div:nth-child(3)>div[data-v-c2a68c1a]{width:50%;height:100%}.contRight>div:nth-child(3)>div[data-v-c2a68c1a]:first-child{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.contRight>div:nth-child(3)>div:first-child img[data-v-c2a68c1a]{width:1.5rem;height:1.5rem;margin-right:.5rem}.contRight>div:nth-child(3)>div:first-child small[data-v-c2a68c1a]{font-size:1.2rem;color:#000}.contRight>div:nth-child(3)>div[data-v-c2a68c1a]:nth-child(2){background-color:#1aac19;color:#fff;font-size:1.2rem;line-height:2.6rem;text-align:center}.mainDian[data-v-c2a68c1a]{height:4.5rem}#orderLi[data-v-c2a68c1a]{margin:0;padding:0;width:100%;height:25rem;background-color:#f5f5f6;border:0;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;overflow:hidden}#orderLiImg[data-v-c2a68c1a]{height:11rem;width:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;margin-top:6.3rem;-ms-flex-align:center;align-items:center}#orderLiImg img[data-v-c2a68c1a]{width:11rem;height:11rem}#orderLiNull[data-v-c2a68c1a]{margin-top:3.5rem;width:100%;height:4rem;line-height:4rem;text-align:center;font-size:3rem;color:#bababa}",""])},412:function(t,e,i){var a=i(404);"string"==typeof a&&(a=[[t.id,a,""]]);i(49)(a,{});a.locals&&(t.exports=a.locals)},423:function(t,e,i){i(412);var a=i(37)(i(163),i(432),"data-v-c2a68c1a",null);t.exports=a.exports},432:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"integral",attrs:{id:"app"}},[i("div",{staticClass:"main"},[i("div",{staticClass:"mainUl"},[i("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"10"}},[t._l(t.items,function(e,a){return i("li",{on:{touchstart:function(e){t.shopListTouchstart(e)},touchend:function(e){t.shopListTouchend(e,a)}}},[i("div",{staticClass:"cont"},[i("div",[i("img",{attrs:{src:t._f("imgUrlFun")(e.icon),alt:""}})]),t._v(" "),i("div",{staticClass:"contRight"},[i("div",[t._v(t._s(t._f("strStrFun")(e.pname)))]),t._v(" "),i("div",[t._v("剩余："+t._s(t._f("strFun")(e.inventory)))]),t._v(" "),i("div",[i("div",[i("img",{attrs:{src:"/static/img/积分.png",alt:""}}),t._v(" "),i("small",[t._v(t._s(t._f("strFun")(e.scores)))])]),t._v(" "),i("div",{on:{touchstart:function(e){e.stopPropagation(),t.conveListTouchstart(e)},touchend:function(e){e.stopPropagation(),t.conveListTouchend(e,a)}}},[t._v("\n                                    立即兑换\n                                ")])])])])])}),t._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:t.isNullLi,expression:"isNullLi"}],attrs:{id:"orderLi"}},[t._m(0),t._v(" "),i("div",{attrs:{id:"orderLiNull"}},[t._v("\n                        暂无记录\n                    ")])])],2)]),t._v(" "),i("div",{staticClass:"mainDian"}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoad,expression:"isLoad"}],staticClass:"loadIng"},[i("mt-spinner",{attrs:{type:"fading-circle",color:"rgb(42, 83, 205)"}})],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"orderLiImg"}},[i("img",{attrs:{src:"/static/img/暂无数据.png",alt:""}})])}]}}});